// <auto-generated />
using System;
using GrWhoisApi.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

namespace GrWhoisApi.Migrations
{
	[DbContext(typeof(WhoisContext))]
	[Migration("20191224160536_BigBang")]
	partial class BigBang
	{
		protected override void BuildTargetModel(ModelBuilder modelBuilder)
		{
#pragma warning disable 612, 618
			modelBuilder
				.HasAnnotation("ProductVersion", "3.1.0")
				.HasAnnotation("Relational:MaxIdentifierLength", 64);

			modelBuilder.Entity("GrWhoisApi.Models.Domain", b =>
				{
					b.Property<uint>("Id")
						.ValueGeneratedOnAdd()
						.HasColumnName("id")
						.HasColumnType("int unsigned");

					b.Property<DateTime>("CreatedAt")
						.ValueGeneratedOnAdd()
						.HasColumnName("created_at")
						.HasColumnType("datetime(6)");

					b.Property<DateTime?>("CreationDate")
						.HasColumnName("creation")
						.HasColumnType("datetime(6)");

					b.Property<DateTime?>("ExpirationDate")
						.HasColumnName("expiration")
						.HasColumnType("datetime(6)");

					b.Property<string>("Handle")
						.HasColumnName("handle")
						.HasColumnType("varchar(255)");

					b.Property<DateTime?>("LastUpdate")
						.HasColumnName("last_update")
						.HasColumnType("datetime(6)");

					b.Property<string>("Name")
						.IsRequired()
						.HasColumnName("name")
						.HasColumnType("varchar(255)");

					b.Property<string>("ProtocolNumber")
						.HasColumnName("protonum")
						.HasColumnType("varchar(128)")
						.HasMaxLength(128);

					b.Property<DateTime>("UpdatedAt")
						.ValueGeneratedOnAddOrUpdate()
						.HasColumnName("updated_at")
						.HasColumnType("datetime(6)");

					b.HasKey("Id");

					b.HasIndex("Handle")
						.IsUnique();

					b.HasIndex("Name")
						.IsUnique();

					b.ToTable("domain");
				});

			modelBuilder.Entity("GrWhoisApi.Models.NameServer", b =>
				{
					b.Property<uint>("Id")
						.ValueGeneratedOnAdd()
						.HasColumnName("id")
						.HasColumnType("int unsigned");

					b.Property<DateTime>("CreatedAt")
						.ValueGeneratedOnAdd()
						.HasColumnName("created_at")
						.HasColumnType("datetime(6)");

					b.Property<string>("Name")
						.IsRequired()
						.HasColumnName("name")
						.HasColumnType("varchar(255)");

					b.Property<DateTime>("UpdatedAt")
						.ValueGeneratedOnAddOrUpdate()
						.HasColumnName("updated_at")
						.HasColumnType("datetime(6)");

					b.HasKey("Id");

					b.HasIndex("Name")
						.IsUnique();

					b.ToTable("nameserver");
				});

			modelBuilder.Entity("GrWhoisApi.Models.Registrar", b =>
				{
					b.Property<uint>("Id")
						.ValueGeneratedOnAdd()
						.HasColumnName("id")
						.HasColumnType("int unsigned");

					b.Property<DateTime>("CreatedAt")
						.ValueGeneratedOnAdd()
						.HasColumnName("created_at")
						.HasColumnType("datetime(6)");

					b.Property<string>("Email")
						.HasColumnName("email")
						.HasColumnType("varchar(255)")
						.HasMaxLength(255);

					b.Property<string>("Name")
						.IsRequired()
						.HasColumnName("name")
						.HasColumnType("varchar(255)")
						.HasMaxLength(255);

					b.Property<string>("Phone")
						.HasColumnName("phone")
						.HasColumnType("varchar(20)")
						.HasMaxLength(20);

					b.Property<DateTime>("UpdatedAt")
						.ValueGeneratedOnAddOrUpdate()
						.HasColumnName("updated_at")
						.HasColumnType("datetime(6)");

					b.Property<string>("Url")
						.HasColumnName("url")
						.HasColumnType("varchar(255)")
						.HasMaxLength(255);

					b.HasKey("Id");

					b.HasIndex("Name")
						.IsUnique();

					b.ToTable("registrar");
				});

			modelBuilder.Entity("GrWhoisApi.Models.Snapshot", b =>
				{
					b.Property<uint>("Id")
						.ValueGeneratedOnAdd()
						.HasColumnName("id")
						.HasColumnType("int unsigned");

					b.Property<DateTime>("CreatedAt")
						.ValueGeneratedOnAdd()
						.HasColumnName("created_at")
						.HasColumnType("datetime(6)");

					b.Property<uint>("DomainId")
						.HasColumnName("domain_id")
						.HasColumnType("int unsigned");

					b.Property<uint?>("RegistrarId")
						.HasColumnName("registrar_id")
						.HasColumnType("int unsigned");

					b.Property<DateTime>("UpdatedAt")
						.ValueGeneratedOnAddOrUpdate()
						.HasColumnName("updated_at")
						.HasColumnType("datetime(6)");

					b.HasKey("Id");

					b.HasIndex("DomainId");

					b.HasIndex("RegistrarId");

					b.ToTable("snapshot");
				});

			modelBuilder.Entity("GrWhoisApi.Models.SnapshotNameServer", b =>
				{
					b.Property<uint>("SnapshotId")
						.HasColumnName("snapshot_id")
						.HasColumnType("int unsigned");

					b.Property<uint>("NameServerId")
						.HasColumnName("nameserver_id")
						.HasColumnType("int unsigned");

					b.HasKey("SnapshotId", "NameServerId");

					b.HasIndex("NameServerId");

					b.ToTable("rel_snapshot_nameserver");
				});

			modelBuilder.Entity("GrWhoisApi.Models.Snapshot", b =>
				{
					b.HasOne("GrWhoisApi.Models.Domain", "Domain")
						.WithMany("Snapshots")
						.HasForeignKey("DomainId")
						.OnDelete(DeleteBehavior.Cascade)
						.IsRequired();

					b.HasOne("GrWhoisApi.Models.Registrar", "Registrar")
						.WithMany("Snapshots")
						.HasForeignKey("RegistrarId");
				});

			modelBuilder.Entity("GrWhoisApi.Models.SnapshotNameServer", b =>
				{
					b.HasOne("GrWhoisApi.Models.NameServer", "NameServer")
						.WithMany("SnapshotNameServers")
						.HasForeignKey("NameServerId")
						.OnDelete(DeleteBehavior.Cascade)
						.IsRequired();

					b.HasOne("GrWhoisApi.Models.Snapshot", "Snapshot")
						.WithMany("SnapshotNameServers")
						.HasForeignKey("SnapshotId")
						.OnDelete(DeleteBehavior.Cascade)
						.IsRequired();
				});
#pragma warning restore 612, 618
		}
	}
}
